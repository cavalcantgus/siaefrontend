import{a as P}from"./axios-BT81ka_Q.js";import{N as K}from"./NavBar-B8k2jPFv.js";import{C as O,U as S}from"./utilsService-BWVlYyOY.js";import{_ as x,r as D,o as b,t as V,b as a,w as o,a as l,f as v,g as s,C as F,d as i,p as I,H as h,F as k,v as T,l as q,c as M,A,z as p,X as z,K as E,O as j,j as G,i as Y,L as W,M as $,u as R,N as J,P as X,T as U,e as B,J as N,U as Q}from"./index-BfibuI2h.js";import{B as Z}from"./BtnComeBack-BEeqsQgG.js";const _={name:"NovoProduto",components:{ConfirmButton:O},props:{onSubmit:Function,currentItem:{type:Object},dialogAtivo:{type:Boolean,required:!0}},data:()=>({totalGeral:0,isSubmitting:!1,isDuplicate:!1,products:[],projects:[],producers:[],proofs:[],items:{itemsProducts:[{produtoId:null,unidade:null,precoMedio:null}],itemsQuantity:[]},options:{decimal:",",thousands:".",precision:"2",masked:!1},quantityWarnings:[],quantityValid:!0,requiredField:[e=>e!=null&&e!==""||"Obrigatório"]}),watch:{dialogAtivo(e){e||this.resetState()},"currentItem.produtorId":{async handler(){this.items.itemsProducts.forEach(e=>{e.produtoId=null}),await this.getProducts(),await this.getProjects(),await this.getProofs()},deep:!0},"items.itemsProducts":{handler(e){this.updateTotalGeral(),e.forEach((t,r)=>{if(t&&t.produtoId){t&&t.produtoId&&(this.isDuplicate=e.some((u,n)=>n!==r&&u.produtoId===t.produtoId));const d=this.products.find(u=>u.id===t.produtoId);console.log("Produto: ",d),console.log("Produto: ",this.products),d&&(this.items.itemsProducts[r].unidade=d.unidade,this.items.itemsProducts[r].precoMedio=d.precoMedio)}})},deep:!0},"items.itemsQuantity":{handler(){this.validateQuantity(),this.updateTotalGeral()},deep:!0}},computed:{isFormValid(){const e=this.items.itemsProducts.every(t=>t.produtoId&&t.unidade&&t.precoMedio);return!!(this.currentItem.produtorId&&e&&this.quantityValid&&!this.isDuplicate&&this.currentItem.dataEntrega)}},methods:{validateQuantity(){if(!this.projects.length){console.warn("Tentando validar quantidade antes dos projetos carregarem.");return}this.quantityValid=!0,this.quantityWarnings=this.items.itemsProducts.map((e,t)=>{const r=e.produtoId,d=this.items.itemsQuantity[t]||0;if(!r)return null;const u=this.projects.find(w=>w.produto.id===r);if(!u)return console.log(`Produto com ID ${r} não encontrado em projects.`),`Produto com ID ${r} não encontrado.`;const n=this.sumQuantity(r),g=u.quantidade-n;return d>g?(this.quantityValid=!1,`Limite máximo de entrega para ${u.produto.descricao} (${g}).`):null})},sumQuantity(e){return console.log("PROOFS: ",this.proofs),this.proofs.length!==0?this.proofs.filter(r=>r.produto.id===e).reduce((r,d)=>r+d.quantidade,0):null},formatPrice(e){return e=S.formatReal(e),e},updateTotalGeral(){this.totalGeral=this.items.itemsProducts.reduce((e,t,r)=>{const d=this.items.itemsQuantity[r]||0,u=parseFloat(t.precoMedio)||0;return e+u*d},0).toFixed(2)},addItem(){this.items.itemsProducts.push({produtoId:null,unidade:null,precoMedio:null}),this.items.itemsQuantity.push(null)},removeItem(e){this.items.itemsProducts.splice(e,1),this.items.itemsQuantity.splice(e,1)},resetState(){Object.keys(this.currentItem).forEach(e=>{this.currentItem[e]=null})},async localOnSubmit(){try{const e={...this.currentItem,produtoIds:this.items.itemsProducts.map(t=>t.produtoId),quantidade:this.items.itemsQuantity};console.log(e),this.onSubmit(e)}catch(e){console.log("Erro: ",e)}},async getProducts(){var e;try{if(!((e=this.currentItem)!=null&&e.produtorId)){console.log("produtorId é inválido"),this.products=[];return}const t=await P.get(`/public/projetos/projeto/${this.currentItem.produtorId}`);console.log(t.data),this.products=[];const{projetoProdutos:r}=t.data;r.forEach(d=>{const{produto:u}=d;this.products.push(u)}),console.log(this.products)}catch(t){console.error("Error: ",t),this.products=[]}},async getProjects(){var e;try{if(!((e=this.currentItem)!=null&&e.produtorId)){console.log("produtorId é inválido"),this.projects=[];return}const t=await P.get(`/public/projetos/projeto/${this.currentItem.produtorId}`);console.log(t.data);const{projetoProdutos:r}=t.data;this.projects=[...r],console.log("Novo array",this.projects)}catch(t){console.log("Error: ",t),this.projects=[]}},async getProductors(){try{const e=await P.get("/public/produtores");console.log(e.data),this.producers=e.data}catch(e){console.log("Error: ",e),this.producers=[]}},async getProofs(){var e;try{if(!((e=this.currentItem)!=null&&e.produtorId)){console.log("produtorId é inválido"),this.proofs=[];return}const t=await P.get(`/public/comprovantes/comprovante/${this.currentItem.produtorId}`);Array.isArray(t.data)?this.proofs=t.data.flatMap(r=>r.detalhesEntrega||[]):(console.log("A resposta da API não é um Array"),this.proofs=[]),console.log(this.proofs)}catch(t){console.log("Error: ",t),this.proofs=[]}}},mounted(){this.getProjects(),this.getProductors(),this.getProducts(),this.getProofs()},onUpdated(){this.validateQuantity()}},tt={class:"pa-3 pr-12 pl-12"},et={class:"grid-container"},ot={key:2,class:"text-start text-error ml-3",style:{"font-size":"0.8rem","font-weight":"bold",width:"100%","margin-top":"-25px","margin-bottom":"20px"}};function at(e,t,r,d,u,n){const g=D("vuetify-money"),w=D("ConfirmButton");return b(),V("div",tt,[a(Y,{onSubmit:G(n.localOnSubmit,["prevent"]),ref:"formRef"},{default:o(()=>[l("div",et,[a(v,{class:"ml-1 w-100"},{default:o(()=>[a(s,{cols:"11"},{default:o(()=>[a(F,{density:"compact",name:"producer",items:e.producers,"item-title":"nome","item-value":"id",modelValue:r.currentItem.produtorId,"onUpdate:modelValue":t[0]||(t[0]=c=>r.currentItem.produtorId=c),variant:"outlined",rules:e.requiredField,clearable:""},{label:o(()=>t[2]||(t[2]=[l("span",null,[i("Produtor "),l("span",{style:{color:"red"}},"*")],-1)])),_:1},8,["items","modelValue","rules"])]),_:1})]),_:1}),a(v,{class:"w-100",style:{"margin-top":"-50px","margin-left":"-8px"}},{default:o(()=>[a(s,{cols:"11"},{default:o(()=>[a(I,{size:"30px",icon:"",style:{"margin-left":"-26px","margin-bottom":"-85px"},color:"primary",onClick:n.addItem},{default:o(()=>[a(h,{left:"",size:"20px"},{default:o(()=>t[3]||(t[3]=[i("mdi-plus")])),_:1})]),_:1},8,["onClick"]),(b(!0),V(k,null,T(e.items.itemsProducts,(c,f)=>(b(),V("div",{key:f,class:"grid-second-container"},[a(s,{cols:"4"},{default:o(()=>[a(F,{color:e.isDuplicate?"error":"",density:"compact",name:"product",items:e.products,"item-title":"descricao","item-value":"id",modelValue:e.items.itemsProducts[f].produtoId,"onUpdate:modelValue":y=>e.items.itemsProducts[f].produtoId=y,variant:"outlined",rules:e.requiredField,clearable:""},{label:o(()=>t[4]||(t[4]=[l("span",null,[i("Produto "),l("span",{style:{color:"red"}},"*")],-1)])),_:2},1032,["color","items","modelValue","onUpdate:modelValue","rules"])]),_:2},1024),a(s,{cols:"2"},{default:o(()=>[a(q,{density:"compact",name:"unidade",label:"Unidade",modelValue:e.items.itemsProducts[f].unidade,"onUpdate:modelValue":y=>e.items.itemsProducts[f].unidade=y,variant:"outlined",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{cols:"2"},{default:o(()=>[a(q,{density:"compact",name:"precoMedio",label:"Preço Médio",modelValue:e.items.itemsProducts[f].precoMedio,"onUpdate:modelValue":y=>e.items.itemsProducts[f].precoMedio=y,variant:"outlined",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{cols:"2"},{default:o(()=>[a(g,{density:"compact",name:"quantidade",label:"Quantidade",options:e.options,modelValue:e.items.itemsQuantity[f],"onUpdate:modelValue":y=>e.items.itemsQuantity[f]=y,variant:"outlined",disabled:e.isDuplicate},null,8,["options","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),e.items.itemsProducts.length>1?(b(),M(I,{key:0,size:"30px",icon:"",color:"error",style:{"margin-top":"15px"},onClick:y=>n.removeItem(f)},{default:o(()=>[a(h,{size:"20px"},{default:o(()=>t[5]||(t[5]=[i("mdi-delete")])),_:1})]),_:2},1032,["onClick"])):A("",!0),e.quantityWarnings[f]?(b(),M(z,{key:1,color:"error",class:"mt-2 mb-6 ml-4",density:"compact",style:{"font-size":"0.7rem",height:"80px","font-weight":"bold"}},{default:o(()=>[i(p(e.quantityWarnings[f]),1)]),_:2},1024)):A("",!0),e.isDuplicate?(b(),V("span",ot,p("Itens duplicados. Por favor, remova-os, ou escolha outro."))):A("",!0)]))),128))]),_:1})]),_:1}),a(v,{class:"w-100",style:{"margin-top":"15px","margin-left":"3px"}},{default:o(()=>[a(s,{cols:"4"},{default:o(()=>[a(E,{location:"end"},{activator:o(({props:c})=>[a(q,j(c,{"max-width":"170px",density:"compact",name:"dataProjeto",type:"date",modelValue:r.currentItem.dataEntrega,"onUpdate:modelValue":t[1]||(t[1]=f=>r.currentItem.dataEntrega=f),variant:"outlined",rules:e.requiredField}),{label:o(()=>t[6]||(t[6]=[l("span",null,"Data Da Entrega",-1),i(),l("span",{style:{color:"red"}},"*",-1)])),_:2},1040,["modelValue","rules"])]),default:o(()=>[t[7]||(t[7]=l("span",null,"Obs: Utilizar a data de recebimento do(s) produto(s)",-1))]),_:1})]),_:1}),a(s,{align:"end",class:"align-self-center"},{default:o(()=>[t[8]||(t[8]=l("h4",null,"Total",-1)),l("span",null,p(n.formatPrice(e.totalGeral)),1)]),_:1})]),_:1})])]),_:1},8,["onSubmit"]),a(v,{class:"justify-end dense pt-6"},{default:o(()=>[a(s,{class:"text-end"},{default:o(()=>[a(E,{location:"top",disabled:n.isFormValid},{activator:o(({props:c})=>[l("span",W($(c)),[a(w,{color:n.isFormValid?"success":"grey",onConfirm:n.localOnSubmit,loading:e.isSubmitting,disabled:!n.isFormValid||e.isSubmitting},{default:o(()=>t[9]||(t[9]=[i("Salvar")])),_:1},8,["color","onConfirm","loading","disabled"])],16)]),default:o(()=>[t[10]||(t[10]=l("span",null,"Preencha todos os campos obrigatórios (*) para habilitar o botão",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})])}const rt=x(_,[["render",at],["__scopeId","data-v-c630719f"]]),lt={name:"NovoProduto",components:{ConfirmButton:O},props:{onSubmit:Function,currentItem:{type:Object},dialogAtivo:{type:Boolean,required:!0}},data:()=>({totalGeral:0,unidade:"",precoMedio:"",isSubmitting:!1,isDuplicate:!1,projects:[],products:[],producers:[],proofs:[],items:{itemsProducts:[{produtoId:null,unidade:null,precoMedio:null}],itemsQuantity:[]},options:{decimal:",",thousands:".",precision:"2",masked:!1},quantityWarnings:[],quantityValid:!0,requiredField:[e=>e!=null&&e!==""||"Obrigatório"]}),watch:{dialogAtivo(e){e||this.resetState()},"currentItem.produtor":{handler(){this.getProducts(),this.getProofs(),this.getProjects()},deep:!0},"currentItem.detalhesEntrega":{handler(e){Array.isArray(e)&&(this.validateQuantity(),e.forEach((t,r)=>{if(t&&t.produto){const d=this.products.find(u=>u.id===t.produto.id);d&&(t.produto.unidade=d.unidade,t.produto.precoMedio=d.precoMedio)}}),this.updateTotalGeral(),this.isDuplicate=e.some((t,r)=>e.some((d,u)=>r!==u&&t.produto&&d.produto&&t.produto.id===d.produto.id)))},deep:!0}},computed:{isFormValid(){const e=this.currentItem.detalhesEntrega.every(t=>t.produto);return!!(this.currentItem.produtor&&e&&this.quantityValid&&!this.isDuplicate)}},methods:{validateQuantity(){if(!this.projects.length){console.warn("Tentando validar quantidade antes dos projetos carregarem.");return}this.quantityValid=!0,this.quantityWarnings=this.currentItem.detalhesEntrega.map((e,t)=>{const r=e.produto.id;console.log("PRODUTO ID: ",r);const d=e.quantidade||0;if(!r)return null;const u=this.projects.find(w=>w.produto.id===r),n=this.sumQuantity(r),g=u.quantidade-n;return u?(console.log("Pesquisa: ",u),d>g?(this.quantityValid=!1,`A quantidade inserida excede o limite restante permitido para ${u.produto.descricao} (${g}).`):(this.quantityValid=!0,null)):(console.log(`Produto com ID ${r} não encontrado em projects.`),`Produto com ID ${r} não encontrado.`)})},sumQuantity(e){console.log("PROOFS: ",this.proofs);const t=this.proofs.find(d=>d.produto.id===e);console.log("ENTREGA ANTERIOR: ",t);const r=t.quantidade;return this.proofs.length!==0?this.proofs.filter(u=>u.produto.id===e).reduce((u,n)=>u+n.quantidade,0)-r:null},formatPrice(e){return e=S.formatReal(e),e},updateTotalGeral(){console.log("Método chamado"),this.totalGeral=this.currentItem.detalhesEntrega.reduce((e,t)=>{var u;const r=parseFloat(t.quantidade)||0;console.log("Quantidade: ",r);const d=parseFloat((u=t.produto)==null?void 0:u.precoMedio)||0;return e+d*r},0).toFixed(2)},addItem(){this.currentItem.detalhesEntrega.push({produto:{descricao:"",epecificacao:"",precoMedio:0,unidade:""},quantidade:0,total:0})},removeItem(e){this.currentItem.detalhesEntrega&&this.currentItem.detalhesEntrega.length>e&&this.currentItem.detalhesEntrega.splice(e,1)},resetState(){console.log("Método chamado"),Object.keys(this.currentItem).forEach(e=>{this.currentItem[e]=null})},async localOnSubmit(){try{const e={...this.currentItem,detalhesEntrega:this.currentItem.detalhesEntrega};console.log(e),this.onSubmit(e)}catch(e){console.log("Erro: ",e)}},async getProjects(){try{const e=await P.get(`/public/projetos/projeto/${this.currentItem.produtor.id}`);console.log(e.data);const{projetoProdutos:t}=e.data;this.projects=[...t],console.log(this.projects)}catch(e){console.error("Error: ",e),this.projects=[]}},async getProducts(){try{const e=await P.get(`/public/projetos/projeto/${this.currentItem.produtor.id}`);console.log(e.data),this.products=[];const{projetoProdutos:t}=e.data;t.forEach(r=>{const{produto:d}=r;this.products.push(d)}),console.log(this.products)}catch(e){console.error("Error: ",e),this.products=[]}},async getProofs(){var e;try{if(!((e=this.currentItem)!=null&&e.produtor.id)){console.log("produtorId é inválido"),this.proofs=[];return}const t=await P.get(`/public/comprovantes/comprovante/${this.currentItem.produtor.id}`);Array.isArray(t.data)?this.proofs=t.data.flatMap(r=>r.detalhesEntrega||[]):(console.log("A resposta da API não é um Array"),this.proofs=[]),console.log(this.proofs)}catch(t){console.log("Error: ",t),this.proofs=[]}},async getProductors(){try{const e=await P.get("/public/produtores");console.log(e.data),this.producers=e.data}catch(e){console.log("Error: ",e),this.producers=[]}}},mounted(){this.getProjects(),this.getProductors(),this.getProducts(),this.getProofs()}},st={class:"pa-3 pr-12 pl-12"},nt={class:"grid-container"},dt={key:2,class:"text-start text-error ml-3",style:{"font-size":"0.8rem","font-weight":"bold",width:"100%","margin-top":"-25px","margin-bottom":"20px"}};function it(e,t,r,d,u,n){const g=D("vuetify-money"),w=D("ConfirmButton");return b(),V("div",st,[a(Y,{onSubmit:G(n.localOnSubmit,["prevent"]),ref:"formRef"},{default:o(()=>[l("div",nt,[a(v,{class:"ml-1 w-100"},{default:o(()=>[a(s,{cols:"12",sm:"6",md:"4",lg:"11",xl:"12"},{default:o(()=>[a(F,{density:"compact",name:"producer",items:e.producers,"item-title":"nome","item-value":"id","return-object":"",modelValue:r.currentItem.produtor,"onUpdate:modelValue":t[0]||(t[0]=c=>r.currentItem.produtor=c),variant:"outlined",rules:e.requiredField,clearable:""},{label:o(()=>t[2]||(t[2]=[l("span",null,[i("Produtor "),l("span",{style:{color:"red"}},"*")],-1)])),_:1},8,["items","modelValue","rules"])]),_:1})]),_:1}),a(v,{class:"w-100",style:{"margin-top":"-50px","margin-left":"-8px"}},{default:o(()=>[a(s,{cols:"11"},{default:o(()=>[a(I,{size:"30px",icon:"",style:{"margin-left":"-26px","margin-bottom":"-85px"},color:"primary",onClick:n.addItem},{default:o(()=>[a(h,{left:"",size:"20px"},{default:o(()=>t[3]||(t[3]=[i("mdi-plus")])),_:1})]),_:1},8,["onClick"]),(b(!0),V(k,null,T(r.currentItem.detalhesEntrega,(c,f)=>(b(),V("div",{key:f,class:"grid-second-container"},[a(s,{cols:"4",class:""},{default:o(()=>[a(F,{color:e.isDuplicate?"error":"",density:"compact",items:e.products,"item-title":"descricao","item-value":"id","return-object":"",modelValue:c.produto,"onUpdate:modelValue":y=>c.produto=y,variant:"outlined",rules:e.requiredField,clearable:""},{label:o(()=>t[4]||(t[4]=[l("span",null,[i("Produto "),l("span",{style:{color:"red"}},"*")],-1)])),_:2},1032,["color","items","modelValue","onUpdate:modelValue","rules"])]),_:2},1024),a(s,{cols:"2"},{default:o(()=>[a(q,{density:"compact",label:"Unidade",modelValue:c.produto.unidade,"onUpdate:modelValue":y=>c.produto.unidade=y,variant:"outlined",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{cols:"2"},{default:o(()=>[a(q,{density:"compact",label:"Preço Médio",modelValue:c.produto.precoMedio,"onUpdate:modelValue":y=>c.produto.precoMedio=y,variant:"outlined",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{cols:"2"},{default:o(()=>[a(g,{density:"compact",label:"Quantidade",options:e.options,modelValue:c.quantidade,"onUpdate:modelValue":y=>c.quantidade=y,variant:"outlined",disabled:e.isDuplicate},null,8,["options","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),r.currentItem.detalhesEntrega.length>1?(b(),M(I,{key:0,size:"30px",icon:"",color:"error",style:{"margin-top":"15px"},onClick:y=>n.removeItem(f)},{default:o(()=>[a(h,{size:"20px"},{default:o(()=>t[5]||(t[5]=[i("mdi-delete")])),_:1})]),_:2},1032,["onClick"])):A("",!0),e.quantityWarnings[f]?(b(),M(z,{key:1,color:"error",class:"mt-2 mb-6 ml-4",density:"compact","min-width":"50px",style:{"font-size":"0.6rem",height:"80px","font-weight":"bold"}},{default:o(()=>[i(p(e.quantityWarnings[f]),1)]),_:2},1024)):A("",!0),e.isDuplicate?(b(),V("span",dt,p("Itens duplicados. Por favor, remova-os, ou escolha outro."))):A("",!0)]))),128))]),_:1})]),_:1}),a(v,{class:"w-100",style:{"margin-top":"15px","margin-left":"3px"}},{default:o(()=>[a(s,{cols:"4"},{default:o(()=>[a(E,{location:"end"},{activator:o(({props:c})=>[a(q,j(c,{"max-width":"170px",density:"compact",name:"dataDaEntrega",type:"date",modelValue:r.currentItem.dataDaEntrega,"onUpdate:modelValue":t[1]||(t[1]=f=>r.currentItem.dataDaEntrega=f),variant:"outlined",rules:e.requiredField}),{label:o(()=>t[6]||(t[6]=[l("span",null,"Data Da Entrega",-1),l("span",{style:{color:"red"}},"*",-1)])),_:2},1040,["modelValue","rules"])]),default:o(()=>[t[7]||(t[7]=l("span",null,"Obs: Utilizar a data de realização da Chamada Pública",-1))]),_:1})]),_:1}),a(s,{align:"end",class:"align-self-center"},{default:o(()=>[t[8]||(t[8]=l("h4",null,"Total",-1)),l("span",null,p(n.formatPrice(e.totalGeral)),1)]),_:1})]),_:1})])]),_:1},8,["onSubmit"]),a(v,{class:"justify-end dense pt-6"},{default:o(()=>[a(s,{class:"text-end"},{default:o(()=>[a(E,{location:"top",disabled:n.isFormValid},{activator:o(({props:c})=>[l("span",W($(c)),[a(w,{color:n.isFormValid?"success":"grey",onConfirm:n.localOnSubmit,loading:e.isSubmitting,disabled:!n.isFormValid||e.isSubmitting},{default:o(()=>t[9]||(t[9]=[i("Salvar")])),_:1},8,["color","onConfirm","loading","disabled"])],16)]),default:o(()=>[t[10]||(t[10]=l("span",null,"Preencha todos os campos obrigatórios (*) para habilitar o botão",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})])}const ut=x(lt,[["render",it],["__scopeId","data-v-8d610033"]]),pt={name:"ProdutorExpand",props:{projetoData:Object},data:()=>({productors:[],headers:[{title:"Arquivo",align:"start",sortable:!0,value:"fileName"},{title:"Tipo",align:"start",sortable:!0,value:"fileType"},{title:"Baixar",align:"start",sortable:!0,value:"download"},{title:"Remover",align:"start",sortable:!0,value:"remove"}]}),methods:{age(e){console.log("Método chamado");const t=new Date,r=new Date(e);let d=t.getFullYear()-r.getFullYear();const u=t.getMonth()-r.getMonth();return(u<0||u===0&&t.getDate()<r.getDate())&&d--,console.log(d),d},formatDate(e){return S.formatDateBr(e)},formatPrice(e){return e=S.formatReal(e),e},getAge(){var u;const e=new Date,t=new Date((u=this.projetoData)==null?void 0:u.dataNascimento);let r=e.getFullYear()-t.getFullYear();const d=e.getMonth()-t.getMonth();(d<0||d===0&&e.getDate()<t.getDate())&&r--,this.projetoData.dataNascimento=r},downloadFile(e){const t=`http://localhost:8080/document/download/${e==null?void 0:e.fileName}`,r=document.createElement("a");r.href=t,r.download=e.fileName,document.body.appendChild(r),r.click(),document.body.removeChild(r)},async deleteFile(e){const t=R();console.log("Id do arquivo: ",e.id);try{const r=await P.delete(`/document/delete/${e.id}/${this.projetoData.id}`);if(r.status!==204)throw new Error("Erro: ",r.status);t.success("Arquivo removido com sucesso!")}catch(r){t.error("Erro ao remover arquivo: ",r)}},async getProductors(){try{const e=await P.get("/public/produtores");console.log(e.data),Array.isArray(e.data)?this.productors=e.data:(console.log("A resposta da API não é um Array"),this.productors=[])}catch(e){console.log("Error: ",e),this.productors=[]}}},mounted(){this.getAge()}},mt={align:"start",class:"pa-2"},ct={class:"d-flex flex-wrap flex-column mr-16",style:{height:"175px",border:"2px solid white",width:"390px"},align:"start"},ft={class:"pl-3 pt-2",style:{"margin-right":"-100px","font-weight":"bold",width:"150px"}},gt={class:"d-flex container mt-2",align:"start",style:{width:"100%",height:"100%"}},ht={align:"start",class:"pa-2"},yt={align:"start",class:"pa-2"},bt={align:"start",class:"pa-2"},vt={align:"start",class:"pa-2"};function Pt(e,t,r,d,u,n){return b(),V(k,null,[t[35]||(t[35]=l("h3",{class:"mt-2 mb-2"},"Detalhes do Projeto",-1)),a(v,{dense:"",style:{height:"100px"},class:"border-md pa-2"},{default:o(()=>[a(s,{cols:"2",align:"start",class:"h-75"},{default:o(()=>[t[0]||(t[0]=l("h4",null,"Data do Projeto:",-1)),l("p",null,p(n.formatDate(r.projetoData.dataProjeto)),1)]),_:1}),a(s,{cols:"2",align:"start",class:"h-75"},{default:o(()=>[t[1]||(t[1]=l("h4",null,"Qtd de Produtos:",-1)),l("p",null,p(r.projetoData.projetoProdutos.length),1)]),_:1}),a(s,{cols:"1",align:"start",class:"h-75"},{default:o(()=>[t[2]||(t[2]=l("h4",null,"Total Geral:",-1)),l("p",null,p(n.formatPrice(r.projetoData.total)),1)]),_:1})]),_:1}),l("h4",mt,[t[4]||(t[4]=i(" Dados do Produto ")),a(h,null,{default:o(()=>t[3]||(t[3]=[i("mdi-file-account")])),_:1})]),a(v,{dense:"",style:{height:"200px"},class:"border-md pa-2"},{default:o(()=>[(b(!0),V(k,null,T(r.projetoData.projetoProdutos,(g,w)=>(b(),M(s,{key:w,cols:"2",class:"d-flex flex-wrap flex-column mr-16 h-50"},{default:o(()=>[l("div",ct,[l("p",ft,"Produto "+p(w+1),1),l("div",gt,[a(s,{cols:"12",class:"mt-6 pt-2 container",align:"start",style:{"margin-left":"-50px"}},{default:o(()=>[t[5]||(t[5]=l("span",{style:{"font-weight":"bold"}},"Descrição:",-1)),l("p",null,p(g.produto.descricao),1),t[6]||(t[6]=l("br",null,null,-1)),t[7]||(t[7]=l("span",null,"Unidade:",-1)),l("p",null,p(g.produto.unidade),1)]),_:2},1024),a(s,{cols:"9",align:"start",class:"mt-5 container",style:{"margin-left":"-130px"}},{default:o(()=>[t[8]||(t[8]=l("span",{style:{"font-weight":"bold"}},"Preço Médio:",-1)),l("p",null,p(n.formatPrice(g.produto.precoMedio)),1),t[9]||(t[9]=l("br",null,null,-1)),t[10]||(t[10]=l("span",null,"Quantidade:",-1)),l("p",null,p(g.quantidade),1)]),_:2},1024)])])]),_:2},1024))),128))]),_:1}),l("h4",ht,[t[12]||(t[12]=i(" Dados do Produtor ")),a(h,null,{default:o(()=>t[11]||(t[11]=[i("mdi-file-account")])),_:1})]),a(v,{dense:"",style:{height:"150px"},class:"border-md pa-2"},{default:o(()=>[a(s,{cols:"3",align:"start",class:"h-50"},{default:o(()=>[t[13]||(t[13]=l("h4",null,"Nome:",-1)),l("p",null,p(r.projetoData.produtor.nome),1)]),_:1}),a(s,{cols:"1",align:"start",class:"h-50"},{default:o(()=>[t[14]||(t[14]=l("h4",null,"Idade:",-1)),l("p",null,p(n.age(r.projetoData.produtor.dataNascimento)),1)]),_:1}),a(s,{cols:"3",align:"start",class:"h-50"},{default:o(()=>[t[15]||(t[15]=l("h4",null,"Email:",-1)),l("p",null,p(r.projetoData.produtor.email),1)]),_:1}),a(s,{cols:"2",align:"start",class:"h-50"},{default:o(()=>[t[16]||(t[16]=l("h4",null,"Contato:",-1)),l("p",null,p(r.projetoData.produtor.contato),1)]),_:1}),a(s,{cols:"2",align:"start",class:"h-50"},{default:o(()=>[t[17]||(t[17]=l("h4",null,"CPF:",-1)),l("p",null,p(r.projetoData.produtor.cpf),1)]),_:1}),a(s,{cols:"2",align:"start",class:"h-50"},{default:o(()=>[t[18]||(t[18]=l("h4",null,"RG:",-1)),l("p",null,p(r.projetoData.produtor.rg),1)]),_:1})]),_:1}),l("h4",yt,[t[20]||(t[20]=i(" Endereço ")),a(h,null,{default:o(()=>t[19]||(t[19]=[i("mdi-home")])),_:1})]),a(v,{dense:"",style:{height:"100px"},class:"border-md pa-2"},{default:o(()=>[a(s,{cols:"1",align:"start",class:"h-75"},{default:o(()=>[t[21]||(t[21]=l("h4",null,"Estado:",-1)),l("p",null,p(r.projetoData.produtor.estado),1)]),_:1}),a(s,{cols:"2",align:"start",class:"h-75"},{default:o(()=>[t[22]||(t[22]=l("h4",null,"Município:",-1)),l("p",null,p(r.projetoData.produtor.municipio),1)]),_:1}),a(s,{cols:"3",align:"start",class:"h-75"},{default:o(()=>[t[23]||(t[23]=l("h4",null,"Endereço:",-1)),l("p",null,p(r.projetoData.produtor.endereco),1)]),_:1}),a(s,{cols:"1",align:"start",class:"h-75"},{default:o(()=>[t[24]||(t[24]=l("h4",null,"CEP:",-1)),l("p",null,p(r.projetoData.produtor.cep),1)]),_:1})]),_:1}),l("h4",bt,[t[26]||(t[26]=i(" Dados Bancários ")),a(h,null,{default:o(()=>t[25]||(t[25]=[i("mdi-bank")])),_:1})]),a(v,{dense:"",style:{height:"100px",width:"50vw"},class:"border-md pa-2"},{default:o(()=>[a(s,{cols:"3",align:"start",class:"h-75"},{default:o(()=>[t[27]||(t[27]=l("h4",null,"Banco:",-1)),l("p",null,p(r.projetoData.produtor.banco),1)]),_:1}),a(s,{cols:"2",align:"start",class:"h-75"},{default:o(()=>[t[28]||(t[28]=l("h4",null,"Agência:",-1)),l("p",null,p(r.projetoData.produtor.agencia),1)]),_:1}),a(s,{cols:"3",align:"start",class:"h-75"},{default:o(()=>[t[29]||(t[29]=l("h4",null,"Tipo de Conta:",-1)),l("p",null,p(r.projetoData.produtor.tipoConta),1)]),_:1}),a(s,{cols:"2",align:"start",class:"h-75"},{default:o(()=>[t[30]||(t[30]=l("h4",null,"Conta:",-1)),l("p",null,p(r.projetoData.produtor.conta),1)]),_:1})]),_:1}),l("h4",vt,[t[32]||(t[32]=i(" Dados da CAF ")),a(h,null,{default:o(()=>t[31]||(t[31]=[i("mdi-text-box-multiple-outline")])),_:1})]),a(v,{dense:"",style:{height:"120px",width:"50vw"},class:"border-md pa-2 mb-2"},{default:o(()=>[a(s,{cols:"3",align:"start",class:"h-75"},{default:o(()=>[t[33]||(t[33]=l("h4",null,"CAF:",-1)),l("p",null,p(r.projetoData.produtor.caf),1)]),_:1}),a(s,{cols:"2",align:"start",class:"h-75"},{default:o(()=>[t[34]||(t[34]=l("h4",null,"Validade da CAF:",-1)),l("p",null,p(n.formatDate(r.projetoData.produtor.validadeCaf)),1)]),_:1})]),_:1})],64)}const wt=x(pt,[["render",Pt],["__scopeId","data-v-85007108"]]),It={name:"RelatorioMensal",props:{onSubmit:Function},data:()=>({selectedYear:null,selectedMonth:null,proofs:[],filteredProofs:[],months:[{text:"Janeiro",value:"01"},{text:"Fevereiro",value:"02"},{text:"Março",value:"03"},{text:"Abril",value:"04"},{text:"Maio",value:"05"},{text:"Junho",value:"06"},{text:"Julho",value:"07"},{text:"Agosto",value:"08"},{text:"Setembro",value:"09"},{text:"Outubro",value:"10"},{text:"Novembro",value:"11"},{text:"Dezembro",value:"12"}],headers:[{title:"Produtor",align:"center",sortable:!0,value:"produtor.nome"},{title:"Data Entrega",align:"center",sortable:!0,value:"dataDaEntrega"},{title:"Quantidade",align:"center",sortable:!0,value:"quantidade"},{title:"Total Geral",align:"center",sortable:!0,value:"total"}]}),computed:{gerarAnos(){const e=new Date().getFullYear();return Array.from({length:e-1900+1},(r,d)=>e-d)},proofsPerMonthYear(){return!this.selectedMonth||!this.selectedYear?(console.log("teste"),this.filteredProofs=this.proofs,this.proofs):(this.filteredProofs=this.proofs.filter(e=>{const[t,r,d]=e.dataDaEntrega.split("-").map(Number),u=String(t),n=String(r).padStart(2,"0");return String(this.selectedYear)===u&&String(this.selectedMonth.value)===n}),console.log("Filtrados:",this.filteredProofs),this.filteredProofs)}},methods:{async getProofs(){try{const e=await P.get("/public/comprovantes");console.log(e.data),Array.isArray(e.data)?this.proofs=e.data:(console.log("A resposta da API não é um Array"),this.proofs=[])}catch(e){console.log("Error: ",e),this.proofs=[]}},async localOnSubmit(){const e=R();if(!this.selectedMonth||!this.selectedYear)throw new Error("Mês e ano devem ser válidos");if(this.filteredProofs.length<=0){e.warning(`Nenhuma entrega encontrada para ${this.selectedMonth.text} de ${this.selectedYear}`);return}try{const t={mes:this.selectedMonth.value,ano:this.selectedYear};this.onSubmit(t)}catch(t){console.error(t)}}},mounted(){this.getProofs()}};function Vt(e,t,r,d,u,n){return b(),V(k,null,[a(J,{density:"comfortable",headers:e.headers,items:n.proofsPerMonthYear,height:"300px","no-data-text":"Nenhuma entrega encontrada"},{top:o(()=>[a(v,{class:"mt-2 mb-6 mx-3 ga-2",align:"center"},{default:o(()=>[t[4]||(t[4]=l("span",{style:{color:"gray","font-weight":"bold"}},"Buscar entregas por:",-1)),a(s,{cols:"3",class:"mt-4"},{default:o(()=>[a(F,{density:"compact",items:e.months,"item-title":"text","item-value":"value","return-object":"",variant:"outlined",modelValue:e.selectedMonth,"onUpdate:modelValue":t[0]||(t[0]=g=>e.selectedMonth=g),clearable:""},{label:o(()=>t[2]||(t[2]=[l("span",null,"Mês",-1),i(),l("span",{style:{color:"red"}},"*",-1)])),_:1},8,["items","modelValue"])]),_:1}),a(s,{cols:"3",class:"mt-4"},{default:o(()=>[a(F,{density:"compact",items:n.gerarAnos,variant:"outlined",modelValue:e.selectedYear,"onUpdate:modelValue":t[1]||(t[1]=g=>e.selectedYear=g),clearable:""},{label:o(()=>t[3]||(t[3]=[l("span",null,"Ano",-1),i(),l("span",{style:{color:"red"}},"*",-1)])),_:1},8,["items","modelValue"])]),_:1})]),_:1})]),_:1},8,["headers","items"]),a(v,{class:"justify-end dense mt-2 mb-3"},{default:o(()=>[a(s,{class:"button-group mr-9",align:"end",cols:"2"},{default:o(()=>[a(E,{location:"start",disabled:this.selectedMonth&&this.selectedYear},{activator:o(({props:g})=>[l("div",j(g,{class:"d-inline-block"}),[a(I,{color:"primary",class:"elevation-3 compact-btn ml-3","min-width":"25%",onClick:n.localOnSubmit,disabled:!e.selectedMonth||!e.selectedYear},{append:o(()=>[a(h,{small:"",class:"compact-icon",start:""},{default:o(()=>t[5]||(t[5]=[i("mdi-download")])),_:1})]),default:o(()=>[t[6]||(t[6]=l("div",{class:"d-flex flex-column compact-btn-text"},[l("span",null,"Baixar")],-1))]),_:1},8,["onClick","disabled"])],16)]),default:o(()=>[t[7]||(t[7]=l("span",null,"Selecione um mês e ano",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})],64)}const Dt=x(It,[["render",Vt],["__scopeId","data-v-c51067db"]]),Et={name:"CadastroProdutor",components:{NavBar:K,NovaEntrega:rt,ProjetoDeVendaExpand:wt,EditProjeto:ut,BtnComeBack:Z,ConfirmButton:O,RelatorioMensal:Dt},data:()=>({dialog:{create:!1,update:!1,download:!1},search:"",singleExpand:!1,showFilters:!1,proofs:[],headers:[{text:"Editar",align:"center",value:"edit",width:"40px"},{text:"Remover",align:"center",value:"delete",width:"40px"},{title:"Produtor",align:"center",sortable:!0,value:"produtor.nome"},{title:"Endereço",align:"center",sortable:!0,value:"produtor.endereco",width:"300px"},{title:"Data Entrega",align:"center",sortable:!0,value:"dataDaEntrega"},{title:"Quantidade",align:"center",sortable:!0,value:"quantidade"},{title:"Total Geral",align:"center",sortable:!0,value:"total"},{title:"Relatório",align:"center",sortable:!0,value:"download"}],newItem:{},selectedRow:{},deleteRow:{},expanded:[]}),computed:{filteredProofs(){return this.proofs}},methods:{formatPrice(e){return e=S.formatReal(e),e},formatDate(e){return S.formatData(e)},downloadRelatorio(e){console.log("Método chamado");const t=`http://syssiae.ddns.net:8080/public/comprovantes/relatorio/generate/${e.id}`;window.location.href=t},downloadRelatorioMensal(e){console.log(e);const{mes:t,ano:r}=e,d=`http://syssiae.ddns.net:8080/public/comprovantes/relatorio/mensal/generate/${t}/${r}`;window.location.href=d},async getProofs(){try{const e=await P.get("/public/comprovantes");console.log(e.data),Array.isArray(e.data)?this.proofs=e.data:(console.log("A resposta da API não é um Array"),this.proofs=[])}catch(e){console.log("Error: ",e),this.proofs=[]}},async createProof(e){const t=R();console.log(e);try{const r=await P.post("/public/comprovantes/comprovante",e);if(console.log(r.data),r.status!==201)throw new Error(`Erro: ${r.status}`);t.success("Entrega cadastrada com sucesso!")}catch(r){console.error("Erro: ",r),t.error("Erro ao cadastrar entrega: ",r)}finally{this.dialog.create=!1,this.getProofs()}},async updateProof(e){const t=R();try{const r=await P.put(`/public/comprovantes/comprovante/${e.id}`,e);if(console.log(r.data),console.log(r),r.status!==200)throw new Error(`Erro: ${r.status}`);t.success("Entrega atualizado com sucesso!")}catch(r){console.error("Erro: ",r),t.error("Erro ao atualizar entrega: ",r)}finally{this.dialog.update=!1,this.getProofs()}},async deleteProof(e){const t=R();try{const r=await P.delete(`/public/projetos/projeto/${e.id}`,e);if(r.status!==204)throw new Error("Erro: ",r.status);t.success("Projeto removido com sucesso!")}catch(r){t.error("Erro ao deletar produto: ",r),console.error("Erro: ",r)}finally{this.getProofs()}},onSelectRow(e,t){this.selectedRow={...e},this.dialog[t]=!0},onDeleteRow(e){console.log("Método chamado"),this.selectedRow={...e},this.deleteProject(this.selectedRow)},onDownloadRow(e){console.log("Método chamado"),this.selectedRow={...e},this.downloadRelatorio(this.selectedRow)}},mounted(){this.getProofs()}},jt={colspan:9,style:{"background-color":"#37622a"},class:"text-white"};function Ct(e,t,r,d,u,n){const g=D("NavBar"),w=D("BtnComeBack"),c=D("ConfirmButton"),f=D("ProjetoDeVendaExpand"),y=D("NovaEntrega"),L=D("EditProjeto"),H=D("RelatorioMensal");return b(),V(k,null,[a(g),a(w),t[31]||(t[31]=l("h1",{style:{color:"#57a340","margin-top":"10px",padding:"30px","font-size":"3rem"}},"Comprovante de Recebimento",-1)),a(v,{justify:"center",class:"pr-2"},{default:o(()=>[a(s,{cols:"12"},{default:o(()=>[a(J,{items:n.filteredProofs,headers:e.headers,search:e.search,"single-expand":"","show-expand":"",expanded:e.expanded,"onUpdate:expanded":t[4]||(t[4]=m=>e.expanded=m),"fixed-header":!0,height:"700px"},{top:o(()=>[a(v,{class:"mt-2 mb-8 mx-3"},{default:o(()=>[a(s,{cols:"5"},{default:o(()=>[a(q,{class:"border rounded",dense:"",outlined:"","hide-details":"",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=m=>e.search=m),label:"Pesquisar","append-inner-icon":"mdi-magnify",clearable:""},null,8,["modelValue"])]),_:1}),a(s,{class:"text-end",cols:"2"},{default:o(()=>[a(X,{location:"top start",bordered:"",overlap:""},{default:o(()=>[a(I,{class:"elevation-0",onClick:t[1]||(t[1]=m=>e.showFilters=!e.showFilters)},{default:o(()=>[e.showFilters?(b(),M(h,{key:1,left:"",size:"25px"},{default:o(()=>t[12]||(t[12]=[i("mdi-filter-off")])),_:1})):(b(),M(h,{key:0,size:"25px",left:""},{default:o(()=>t[11]||(t[11]=[i("mdi-filter")])),_:1})),t[13]||(t[13]=i(" FILTROS "))]),_:1})]),_:1})]),_:1}),a(s,{class:"button-group mr-4",align:"end"},{default:o(()=>[a(E,{location:"top"},{activator:o(({props:m})=>[a(I,j({color:"success",class:"elevation-3 compact-btn ml-3","min-width":"25%",onClick:t[2]||(t[2]=C=>e.dialog.create=!0)},m),{default:o(()=>[a(h,{small:"",class:"compact-icon",left:""},{default:o(()=>t[14]||(t[14]=[i("mdi-plus")])),_:1}),t[15]||(t[15]=l("div",{class:"d-flex flex-column compact-btn-text",style:{"font-size":"0.6rem"}},[l("span",null,"Gerar"),i("Comprovante "),l("span")],-1))]),_:2},1040)]),default:o(()=>[t[16]||(t[16]=l("span",null,"Clique para gerar um comprovante",-1))]),_:1})]),_:1})]),_:1}),a(v,{justify:"start",class:"ml-0 mb-2",style:{"margin-top":"-20px"}},{default:o(()=>[a(s,{class:"button-group mr-4",align:"start",cols:"auto"},{default:o(()=>[a(E,{location:"end"},{activator:o(({props:m})=>[a(I,j({color:"primary",class:"elevation-3 compact-btn ml-3","min-width":"25%",onClick:t[3]||(t[3]=C=>e.dialog.download=!0)},m),{default:o(()=>[a(h,{small:"",class:"compact-icon",left:""},{default:o(()=>t[17]||(t[17]=[i("mdi-plus")])),_:1}),t[18]||(t[18]=l("div",{class:"d-flex flex-column compact-btn-text",style:{"font-size":"0.6rem"}},[l("span",null,"Relatórios")],-1))]),_:2},1040)]),default:o(()=>[t[19]||(t[19]=l("span",null,"Clique para gerar relatórios",-1))]),_:1})]),_:1})]),_:1})]),"item.edit":o(({item:m})=>[a(E,{location:"top"},{activator:o(({props:C})=>[a(I,j({icon:""},C,{onClick:qt=>n.onSelectRow(m,"update"),class:"elevation-0"}),{default:o(()=>[a(h,{color:"green"},{default:o(()=>t[20]||(t[20]=[i("mdi-pencil")])),_:1})]),_:2},1040,["onClick"])]),default:o(()=>[t[21]||(t[21]=l("span",null,"Clique para editar um Comprovante",-1))]),_:2},1024)]),"item.delete":o(({item:m})=>[a(E,{location:"top"},{activator:o(({props:C})=>[a(c,j({icon:""},C,{onConfirm:()=>n.onDeleteRow(m),class:"elevation-0"}),{default:o(()=>[a(h,{color:"red"},{default:o(()=>t[22]||(t[22]=[i("mdi-delete")])),_:1})]),_:2},1040,["onConfirm"])]),default:o(()=>[t[23]||(t[23]=l("span",null,"Clique para deletar um comprovante",-1))]),_:2},1024)]),"item.download":o(({item:m})=>[a(E,{location:"top"},{activator:o(({props:C})=>[a(c,j({icon:""},C,{onConfirm:()=>n.onDownloadRow(m),class:"elevation-0"}),{default:o(()=>[a(h,{color:"primary"},{default:o(()=>t[24]||(t[24]=[i("mdi-download")])),_:1})]),_:2},1040,["onConfirm"])]),default:o(()=>[t[25]||(t[25]=l("span",null,"Clique para emitir um comprovante",-1))]),_:2},1024)]),"item.dataDaEntrega":o(({item:m})=>[l("span",null,p(n.formatDate(m.dataDaEntrega)),1)]),"item.total":o(({item:m})=>[l("span",null,p(n.formatPrice(m.total)),1)]),"expanded-row":o(({item:m})=>[l("tr",null,[l("td",jt,[i(p(console.log(m))+" ",1),a(f,{projetoData:m},null,8,["projetoData"])])])]),_:2},1032,["items","headers","search","expanded"]),a(U,{modelValue:e.dialog.create,"onUpdate:modelValue":t[6]||(t[6]=m=>e.dialog.create=m)},{default:o(()=>[a(B,{class:"card-form align-self-center",width:"100%"},{default:o(()=>[a(N,{class:"sticky-title title-border"},{default:o(()=>[t[27]||(t[27]=i(" Gerar Comprovante ")),a(Q),a(I,{icon:"",class:"btn-close elevation-0",onClick:t[5]||(t[5]=m=>e.dialog.create=!e.dialog.create)},{default:o(()=>[a(h,{prepend:""},{default:o(()=>t[26]||(t[26]=[i(" mdi-close ")])),_:1})]),_:1})]),_:1}),a(y,{currentItem:e.newItem,onSubmit:n.createProof,dialogAtivo:e.dialog.create},null,8,["currentItem","onSubmit","dialogAtivo"])]),_:1})]),_:1},8,["modelValue"]),a(U,{modelValue:e.dialog.update,"onUpdate:modelValue":t[8]||(t[8]=m=>e.dialog.update=m)},{default:o(()=>[a(B,{class:"card-form align-self-center",width:"100%"},{default:o(()=>[a(N,{class:"sticky-title title-border"},{default:o(()=>[i(" Editar Comprovante: "+p(e.selectedRow.id)+" ",1),a(Q),a(I,{icon:"",class:"btn-close elevation-0",onClick:t[7]||(t[7]=m=>e.dialog.update=!e.dialog.update)},{default:o(()=>[a(h,{prepend:""},{default:o(()=>t[28]||(t[28]=[i(" mdi-close ")])),_:1})]),_:1})]),_:1}),a(L,{currentItem:e.selectedRow,onSubmit:n.updateProof,dialogAtivo:e.dialog.update},null,8,["currentItem","onSubmit","dialogAtivo"])]),_:1})]),_:1},8,["modelValue"]),a(U,{modelValue:e.dialog.download,"onUpdate:modelValue":t[10]||(t[10]=m=>e.dialog.download=m)},{default:o(()=>[a(B,{class:"card-form align-self-center",width:"65%"},{default:o(()=>[a(N,{class:"sticky-title title-border"},{default:o(()=>[t[30]||(t[30]=l("h3",{class:"report"},"Relatório de Entregas",-1)),a(Q),a(I,{icon:"",class:"btn-close elevation-0",onClick:t[9]||(t[9]=m=>e.dialog.download=!e.dialog.download)},{default:o(()=>[a(h,{prepend:""},{default:o(()=>t[29]||(t[29]=[i(" mdi-close ")])),_:1})]),_:1})]),_:1}),a(H,{onSubmit:n.downloadRelatorioMensal},null,8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}const Rt=x(Et,[["render",Ct],["__scopeId","data-v-632aef9e"]]);export{Rt as default};
