import{a as w}from"./axios-B7aoVuMY.js";import{N as Y}from"./NavBar-xu9rT7x4.js";import{C as U,U as F}from"./utilsService-Tg53_TwS.js";import{_ as x,r as V,o as v,t as D,b as o,w as l,a,f as c,g as s,C as k,d,p as j,H as p,F as S,v as T,l as h,z as n,j as O,i as z,K as I,L as G,M as Q,u as E,c as A,N as J,P as W,O as B,W as X,T as R,e as q,J as M,U as N}from"./index-F4nkrJJ7.js";import{B as Z}from"./BtnComeBack-fXg3Iwsf.js";const $={name:"NovoProduto",components:{ConfirmButton:U},props:{onSubmit:Function,currentItem:{type:Object},dialogAtivo:{type:Boolean,required:!0}},data:()=>({totalGeral:0,unidade:"",precoMedio:"",isSubmitting:!1,products:[],producers:[],items:{itemsProducts:[{produtoId:null,unidade:null,precoMedio:null}],itemsQuantity:[]},requiredField:[e=>e!=null&&e!==""||"Obrigatório"]}),watch:{dialogAtivo(e){e||this.resetState()},"items.itemsProducts":{handler(e){this.updateTotalGeral(),e.forEach((t,r)=>{if(t&&t.produtoId){const f=this.products.find(y=>y.id===t.produtoId);f&&(this.items.itemsProducts[r].unidade=f.produto.unidade,this.items.itemsProducts[r].precoMedio=f.produto.precoMedio)}})},deep:!0},"items.itemsQuantity":{handler(){this.updateTotalGeral()},deep:!0}},computed:{isFormValid(){}},methods:{formatPrice(e){return e=F.formatReal(e),e},updateTotalGeral(){this.totalGeral=this.items.itemsProducts.reduce((e,t,r)=>{const f=this.items.itemsQuantity[r]||0,y=parseFloat(t.precoMedio)||0;return e+y*f},0).toFixed(2)},addItem(){this.items.itemsProducts.push({produtoId:null,unidade:null,precoMedio:null}),this.items.itemsQuantity.push(null)},removeItem(e){this.items.itemsProducts.splice(e,1),this.items.itemsQuantity.splice(e,1)},resetState(){Object.keys(this.currentItem).forEach(e=>{this.currentItem[e]=null})},async localOnSubmit(){try{const e={...this.currentItem,pesquisasId:this.items.itemsProducts.map(t=>t.produtoId),quantidade:this.items.itemsQuantity};console.log(e),this.onSubmit(e)}catch(e){console.log("Erro: ",e)}},async getResearchs(){try{const e=await w.get("/public/pesquisas");console.log(e.data),Array.isArray(e.data)?(this.products=e.data,console.log(e.data)):(console.log("A resposta da API não é um Array"),this.products=[])}catch(e){console.log("Error: ",e),this.products=[]}},async getProductors(){try{const e=await w.get("/public/produtores");console.log(e.data),this.producers=e.data}catch(e){console.log("Error: ",e),this.producers=[]}}},mounted(){this.getResearchs(),this.getProductors()}},_={class:"pa-3 pr-12 pl-12"},tt={class:"grid-container"};function et(e,t,r,f,y,i){const b=V("ConfirmButton");return v(),D("div",_,[o(z,{onSubmit:O(i.localOnSubmit,["prevent"]),ref:"formRef"},{default:l(()=>[a("div",tt,[o(c,{class:"ml-1 w-100"},{default:l(()=>[o(s,{cols:""},{default:l(()=>[o(k,{density:"compact",name:"producer",items:e.producers,"item-title":"nome","item-value":"id",modelValue:r.currentItem.produtorId,"onUpdate:modelValue":t[0]||(t[0]=u=>r.currentItem.produtorId=u),variant:"outlined",rules:e.requiredField,clearable:""},{label:l(()=>t[2]||(t[2]=[a("span",null,[d("Produtor "),a("span",{style:{color:"red"}},"*")],-1)])),_:1},8,["items","modelValue","rules"])]),_:1})]),_:1}),o(c,{class:"w-100",style:{"margin-top":"-50px","margin-left":"-8px"}},{default:l(()=>[o(s,{cols:"12"},{default:l(()=>[o(j,{size:"30px",icon:"",style:{"margin-left":"-26px","margin-bottom":"-85px"},color:"primary",onClick:i.addItem},{default:l(()=>[o(p,{left:"",size:"20px"},{default:l(()=>t[3]||(t[3]=[d("mdi-plus")])),_:1})]),_:1},8,["onClick"]),(v(!0),D(S,null,T(e.items.itemsProducts,(u,g)=>(v(),D("div",{key:g,class:"grid-second-container"},[o(s,{cols:"",class:""},{default:l(()=>[o(k,{density:"compact",name:"product",items:e.products,"item-title":"produto.descricao","item-value":"id",modelValue:e.items.itemsProducts[g].produtoId,"onUpdate:modelValue":P=>e.items.itemsProducts[g].produtoId=P,variant:"outlined",rules:e.requiredField,clearable:""},{label:l(()=>t[4]||(t[4]=[a("span",null,[d("Produto "),a("span",{style:{color:"red"}},"*")],-1)])),_:2},1032,["items","modelValue","onUpdate:modelValue","rules"])]),_:2},1024),o(s,{cols:"2"},{default:l(()=>[o(h,{density:"compact",name:"unidade",label:"Unidade",modelValue:e.items.itemsProducts[g].unidade,"onUpdate:modelValue":P=>e.items.itemsProducts[g].unidade=P,variant:"outlined",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(s,{cols:"2"},{default:l(()=>[o(h,{density:"compact",name:"precoMedio",label:"Preço Médio",modelValue:e.items.itemsProducts[g].precoMedio,"onUpdate:modelValue":P=>e.items.itemsProducts[g].precoMedio=P,variant:"outlined",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(s,{cols:"2"},{default:l(()=>[o(h,{density:"compact",name:"quantidade",label:"Quantidade",modelValue:e.items.itemsQuantity[g],"onUpdate:modelValue":P=>e.items.itemsQuantity[g]=P,variant:"outlined",rules:e.requiredField},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),o(j,{size:"30px",icon:"",color:"error",style:{"margin-top":"15px"},onClick:P=>i.removeItem(g)},{default:l(()=>[o(p,{size:"20px"},{default:l(()=>t[5]||(t[5]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1}),o(c,{class:"w-100",style:{"margin-top":"15px","margin-left":"3px"}},{default:l(()=>[o(s,{cols:"4"},{default:l(()=>[o(h,{"max-width":"170px",density:"compact",name:"dataProjeto",label:"Data do Projeto",type:"date",modelValue:r.currentItem.dataProjeto,"onUpdate:modelValue":t[1]||(t[1]=u=>r.currentItem.dataProjeto=u),variant:"outlined",rules:e.requiredField},null,8,["modelValue","rules"])]),_:1}),o(s,{align:"end",class:"align-self-center"},{default:l(()=>[t[6]||(t[6]=a("h4",null,"Total",-1)),a("span",null,n(i.formatPrice(e.totalGeral)),1)]),_:1})]),_:1})])]),_:1},8,["onSubmit"]),o(c,{class:"justify-end dense pt-6"},{default:l(()=>[o(s,{class:"text-end"},{default:l(()=>[o(I,{location:"top",disabled:i.isFormValid},{activator:l(({props:u})=>[a("span",G(Q(u)),[o(b,{color:i.isFormValid?"success":"grey",onConfirm:i.localOnSubmit,loading:e.isSubmitting},{default:l(()=>t[7]||(t[7]=[d("Salvar")])),_:1},8,["color","onConfirm","loading"])],16)]),default:l(()=>[t[8]||(t[8]=a("span",null,"Preencha todos os campos obrigatórios (*) para habilitar o botão",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})])}const ot=x($,[["render",et],["__scopeId","data-v-ef15184d"]]),lt={name:"EditProduto",components:{ConfirmButton:U},props:{onSubmit:Function,currentItem:{type:Object}},data:()=>({isSubmitting:!1,unidade:[{type:"G",value:"G"},{type:"KG",value:"KG"},{type:"T",value:"T"},{type:"L",value:"L"},{type:"ML",value:"ML"},{type:"UND",value:"UND"},{type:"Maço",value:"Maço"},{type:"Caixas",value:"Caixas"},{type:"Pacotes",value:"Pacotes"},{type:"Fardos",value:"Fardos"},{type:"Sacos",value:"Sacos"}],requiredField:[e=>e!=null&&e!==""||"Obrigatório"]}),computed:{isFormValid(){return!!(this.currentItem.descricao&&this.currentItem.unidade)}},methods:{async localOnSubmit(){this.currentItem.descricao=this.currentItem.descricao.toUpperCase();try{const e={...this.currentItem};this.onSubmit(e)}catch(e){console.log("Erro: ",e)}}}},at={class:"pa-4 pr-12 pl-12"},rt={class:"grid-container"};function st(e,t,r,f,y,i){const b=V("ConfirmButton");return v(),D("div",at,[o(z,{onSubmit:O(i.localOnSubmit,["prevent"]),ref:"formRef"},{default:l(()=>[a("div",rt,[o(h,{class:"flex-item-nome",density:"compact",name:"nome",modelValue:r.currentItem.descricao,"onUpdate:modelValue":t[0]||(t[0]=u=>r.currentItem.descricao=u),variant:"outlined",rules:e.requiredField,clearable:""},{label:l(()=>t[3]||(t[3]=[a("span",null,[d("Descrição "),a("span",{style:{color:"red"}},"*")],-1)])),_:1},8,["modelValue","rules"]),o(k,{density:"compact",name:"unidade",items:e.unidade,"item-title":"type","item-value":"value",modelValue:r.currentItem.unidade,"onUpdate:modelValue":t[1]||(t[1]=u=>r.currentItem.unidade=u),variant:"outlined",rules:e.requiredField,clearable:""},{label:l(()=>t[4]||(t[4]=[a("span",null,[d("Unidade "),a("span",{style:{color:"red"}},"*")],-1)])),_:1},8,["items","modelValue","rules"]),o(h,{class:"flex-item-especificao",density:"compact",name:"nome",label:"Especificação",modelValue:r.currentItem.especificacao,"onUpdate:modelValue":t[2]||(t[2]=u=>r.currentItem.especificacao=u),variant:"outlined"},null,8,["modelValue"])])]),_:1},8,["onSubmit"]),o(c,{class:"justify-end dense pt-6"},{default:l(()=>[o(s,{class:"text-end"},{default:l(()=>[o(I,{location:"top",disabled:i.isFormValid},{activator:l(({props:u})=>[a("span",G(Q(u)),[o(b,{color:i.isFormValid?"success":"grey",onConfirm:i.localOnSubmit,loading:e.isSubmitting,disabled:!i.isFormValid||e.isSubmitting},{default:l(()=>t[5]||(t[5]=[d("Salvar")])),_:1},8,["color","onConfirm","loading","disabled"])],16)]),default:l(()=>[t[6]||(t[6]=a("span",null,"Preencha todos os campos obrigatórios (*) para habilitar o botão",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})])}const dt=x(lt,[["render",st],["__scopeId","data-v-46fa41a0"]]),nt={name:"ProdutorExpand",props:{projetoData:Object},data:()=>({productors:[],headers:[{title:"Arquivo",align:"start",sortable:!0,value:"fileName"},{title:"Tipo",align:"start",sortable:!0,value:"fileType"},{title:"Baixar",align:"start",sortable:!0,value:"download"},{title:"Remover",align:"start",sortable:!0,value:"remove"}]}),methods:{formatDate(e){return F.formatDateBr(e)},formatPrice(e){return e=F.formatReal(e),e},getAge(){var y;const e=new Date,t=new Date((y=this.projetoData)==null?void 0:y.dataNascimento);let r=e.getFullYear()-t.getFullYear();const f=e.getMonth()-t.getMonth();(f<0||f===0&&e.getDate()<t.getDate())&&r--,this.projetoData.dataNascimento=r},downloadFile(e){const t=`http://localhost:8080/document/download/${e==null?void 0:e.fileName}`,r=document.createElement("a");r.href=t,r.download=e.fileName,document.body.appendChild(r),r.click(),document.body.removeChild(r)},async deleteFile(e){const t=E();console.log("Id do arquivo: ",e.id);try{const r=await w.delete(`/document/delete/${e.id}/${this.projetoData.id}`);if(r.status!==204)throw new Error("Erro: ",r.status);t.success("Arquivo removido com sucesso!")}catch(r){t.error("Erro ao remover arquivo: ",r)}},async getProductors(){try{const e=await w.get("/public/produtores");console.log(e.data),Array.isArray(e.data)?this.productors=e.data:(console.log("A resposta da API não é um Array"),this.productors=[])}catch(e){console.log("Error: ",e),this.productors=[]}}},mounted(){this.getAge()}},it={align:"start",class:"pa-2"},ut={class:"d-flex flex-wrap flex-column mr-16",style:{height:"150px",border:"2px solid white",width:"240px"}},mt={class:"d-flex flex-column flex-wrap",align:"start",style:{width:"100%",height:"100%"}},pt={style:{"margin-right":"-100px","padding-left":"5px"}},ct={align:"start",class:"pa-2"},ft={align:"start",class:"pa-2"},gt={align:"start",class:"pa-2"},yt={align:"start",class:"pa-2"};function bt(e,t,r,f,y,i){return v(),D(S,null,[t[35]||(t[35]=a("h3",{class:"mt-2 mb-2"},"Detalhes do Projeto",-1)),o(c,{dense:"",style:{height:"100px"},class:"border-md pa-2"},{default:l(()=>[o(s,{cols:"2",align:"start",class:"h-75"},{default:l(()=>[t[0]||(t[0]=a("h4",null,"Data do Projeto:",-1)),a("p",null,n(i.formatDate(r.projetoData.dataProjeto)),1)]),_:1}),o(s,{cols:"2",align:"start",class:"h-75"},{default:l(()=>[t[1]||(t[1]=a("h4",null,"Qtd de Produtos:",-1)),a("p",null,n(r.projetoData.projetoProdutos.length),1)]),_:1}),o(s,{cols:"1",align:"start",class:"h-75"},{default:l(()=>[t[2]||(t[2]=a("h4",null,"Total Geral:",-1)),a("p",null,n(i.formatPrice(r.projetoData.total)),1)]),_:1})]),_:1}),a("h4",it,[t[4]||(t[4]=d(" Dados do Produto ")),o(p,null,{default:l(()=>t[3]||(t[3]=[d("mdi-file-account")])),_:1})]),o(c,{dense:"",style:{height:"170px"},class:"border-md pa-2"},{default:l(()=>[(v(!0),D(S,null,T(r.projetoData.projetoProdutos,(b,u)=>(v(),A(s,{key:u,cols:"2",class:"d-flex flex-wrap flex-column mr-16 h-50"},{default:l(()=>[a("div",ut,[a("div",mt,[a("p",pt,"Produto "+n(u+1),1),o(s,{cols:"8",align:"start",style:{"margin-left":"-7px","margin-top":"-6px"}},{default:l(()=>[t[5]||(t[5]=a("span",null,"Descrição:",-1)),a("p",null,n(b.produto.descricao),1),t[6]||(t[6]=a("br",null,null,-1)),t[7]||(t[7]=a("span",null,"Unidade:",-1)),a("p",null,n(b.produto.unidade),1)]),_:2},1024),o(s,{cols:"9",align:"start",class:"mt-4",style:{"margin-left":"-50px"}},{default:l(()=>[t[8]||(t[8]=a("span",null,"Preço Médio:",-1)),a("p",null,n(i.formatPrice(b.produto.precoMedio)),1),t[9]||(t[9]=a("br",null,null,-1)),t[10]||(t[10]=a("span",null,"Quantidade:",-1)),a("p",null,n(b.quantidade),1)]),_:2},1024)])])]),_:2},1024))),128))]),_:1}),a("h4",ct,[t[12]||(t[12]=d(" Dados do Produtor ")),o(p,null,{default:l(()=>t[11]||(t[11]=[d("mdi-file-account")])),_:1})]),o(c,{dense:"",style:{height:"150px"},class:"border-md pa-2"},{default:l(()=>[o(s,{cols:"3",align:"start",class:"h-50"},{default:l(()=>[t[13]||(t[13]=a("h4",null,"Nome:",-1)),a("p",null,n(r.projetoData.produtor.nome),1)]),_:1}),o(s,{cols:"1",align:"start",class:"h-50"},{default:l(()=>[t[14]||(t[14]=a("h4",null,"Idade:",-1)),a("p",null,n(r.projetoData.produtor.dataNascimento),1)]),_:1}),o(s,{cols:"3",align:"start",class:"h-50"},{default:l(()=>[t[15]||(t[15]=a("h4",null,"Email:",-1)),a("p",null,n(r.projetoData.produtor.email),1)]),_:1}),o(s,{cols:"2",align:"start",class:"h-50"},{default:l(()=>[t[16]||(t[16]=a("h4",null,"Contato:",-1)),a("p",null,n(r.projetoData.produtor.contato),1)]),_:1}),o(s,{cols:"2",align:"start",class:"h-50"},{default:l(()=>[t[17]||(t[17]=a("h4",null,"CPF:",-1)),a("p",null,n(r.projetoData.produtor.cpf),1)]),_:1}),o(s,{cols:"2",align:"start",class:"h-50"},{default:l(()=>[t[18]||(t[18]=a("h4",null,"RG:",-1)),a("p",null,n(r.projetoData.produtor.rg),1)]),_:1})]),_:1}),a("h4",ft,[t[20]||(t[20]=d(" Endereço ")),o(p,null,{default:l(()=>t[19]||(t[19]=[d("mdi-home")])),_:1})]),o(c,{dense:"",style:{height:"100px"},class:"border-md pa-2"},{default:l(()=>[o(s,{cols:"1",align:"start",class:"h-75"},{default:l(()=>[t[21]||(t[21]=a("h4",null,"Estado:",-1)),a("p",null,n(r.projetoData.produtor.estado),1)]),_:1}),o(s,{cols:"2",align:"start",class:"h-75"},{default:l(()=>[t[22]||(t[22]=a("h4",null,"Município:",-1)),a("p",null,n(r.projetoData.produtor.municipio),1)]),_:1}),o(s,{cols:"3",align:"start",class:"h-75"},{default:l(()=>[t[23]||(t[23]=a("h4",null,"Endereço:",-1)),a("p",null,n(r.projetoData.produtor.endereco),1)]),_:1}),o(s,{cols:"1",align:"start",class:"h-75"},{default:l(()=>[t[24]||(t[24]=a("h4",null,"CEP:",-1)),a("p",null,n(r.projetoData.produtor.cep),1)]),_:1})]),_:1}),a("h4",gt,[t[26]||(t[26]=d(" Dados Bancários ")),o(p,null,{default:l(()=>t[25]||(t[25]=[d("mdi-bank")])),_:1})]),o(c,{dense:"",style:{height:"100px",width:"50vw"},class:"border-md pa-2"},{default:l(()=>[o(s,{cols:"3",align:"start",class:"h-75"},{default:l(()=>[t[27]||(t[27]=a("h4",null,"Banco:",-1)),a("p",null,n(r.projetoData.produtor.banco),1)]),_:1}),o(s,{cols:"2",align:"start",class:"h-75"},{default:l(()=>[t[28]||(t[28]=a("h4",null,"Agência:",-1)),a("p",null,n(r.projetoData.produtor.agencia),1)]),_:1}),o(s,{cols:"3",align:"start",class:"h-75"},{default:l(()=>[t[29]||(t[29]=a("h4",null,"Tipo de Conta:",-1)),a("p",null,n(r.projetoData.produtor.tipoConta),1)]),_:1}),o(s,{cols:"2",align:"start",class:"h-75"},{default:l(()=>[t[30]||(t[30]=a("h4",null,"Conta:",-1)),a("p",null,n(r.projetoData.produtor.conta),1)]),_:1})]),_:1}),a("h4",yt,[t[32]||(t[32]=d(" Dados da CAF ")),o(p,null,{default:l(()=>t[31]||(t[31]=[d("mdi-text-box-multiple-outline")])),_:1})]),o(c,{dense:"",style:{height:"120px",width:"50vw"},class:"border-md pa-2"},{default:l(()=>[o(s,{cols:"3",align:"start",class:"h-75"},{default:l(()=>[t[33]||(t[33]=a("h4",null,"CAF:",-1)),a("p",null,n(r.projetoData.produtor.caf),1)]),_:1}),o(s,{cols:"2",align:"start",class:"h-75"},{default:l(()=>[t[34]||(t[34]=a("h4",null,"Validade da CAF:",-1)),a("p",null,n(r.projetoData.produtor.validadeCaf),1)]),_:1})]),_:1})],64)}const Pt=x(nt,[["render",bt]]),vt={name:"CadastroProdutor",components:{NavBar:Y,NovoProduto:ot,ProjetoDeVendaExpand:Pt,EditProdutor:dt,BtnComeBack:Z,ConfirmButton:U},data:()=>({dialog:{create:!1,update:!1},search:"",singleExpand:!1,showFilters:!1,projects:[],headers:[{text:"Editar",align:"center",value:"edit",width:"40px"},{text:"Remover",align:"center",value:"delete",width:"40px"},{title:"Produtor",align:"center",sortable:!0,value:"produtor.nome"},{title:"Endereço",align:"start",sortable:!0,value:"produtor.endereco",width:"300px"}],newItem:{},selectedRow:{},deleteRow:{},expanded:[]}),computed:{filteredProjects(){return this.projects}},methods:{formatPrice(e){return e=F.formatReal(e),e},async getProjects(){try{const e=await w.get("/public/projetos");console.log(e.data),Array.isArray(e.data)?this.projects=e.data:(console.log("A resposta da API não é um Array"),this.projects=[])}catch(e){console.log("Error: ",e),this.projects=[]}},async createProject(e){const t=E();console.log(e);try{const r=await w.post("/public/projetos/projeto",e);if(console.log(r.data),r.status!==201)throw new Error(`Erro: ${r.status}`);t.success("Projeto cadastrado com sucesso!")}catch(r){console.error("Erro: ",r),t.error("Erro ao cadastrar projeto: ",r)}finally{this.dialog.create=!1,this.getProjects()}},async updateProduct(e){const t=E();try{const r=await w.put(`/public/produtos/produto/${e.id}`,e);if(console.log(r.data),r.status!==200)throw new Error(`Erro: ${r.status}`);t.success("Produto atualizado com sucesso!")}catch(r){console.error("Erro: ",r),t.error("Erro ao atualizar produto: ",r)}finally{this.dialog.update=!1,this.getProducts()}},async deleteProduct(e){const t=E();try{const r=await w.delete(`/public/produtos/produto/${e.id}`,e);if(r.status!==204)throw new Error("Erro: ",r.status);t.success("Produto removido com sucesso!")}catch(r){t.error("Erro ao deletar produto: ",r),console.error("Erro: ",r)}finally{this.getProducts()}},onSelectRow(e,t){this.selectedRow={...e},this.dialog[t]=!0},onDeleteRow(e){console.log("Método chamado"),this.deleteRow={...e},this.deleteProduct(this.deleteRow)}},mounted(){this.getProjects()}},Vt={colspan:9,style:{"background-color":"#37622a"},class:"text-white"};function wt(e,t,r,f,y,i){const b=V("NavBar"),u=V("BtnComeBack"),g=V("ConfirmButton"),P=V("ProjetoDeVendaExpand"),L=V("NovoProduto"),K=V("EditProdutor");return v(),D(S,null,[o(b),o(u),t[21]||(t[21]=a("h1",{style:{color:"#57a340","margin-top":"10px",padding:"30px","font-size":"3rem"}},"Projeto De Venda",-1)),o(c,{justify:"center",class:"pr-2"},{default:l(()=>[o(s,{cols:"12"},{default:l(()=>[o(J,{items:i.filteredProjects,headers:e.headers,search:e.search,"single-expand":"","show-expand":"",expanded:e.expanded,"onUpdate:expanded":t[3]||(t[3]=m=>e.expanded=m),"fixed-header":!0,height:"700px"},{top:l(()=>[o(c,{class:"mt-2 mb-8 mx-3"},{default:l(()=>[o(s,{cols:"5"},{default:l(()=>[o(h,{class:"border rounded",dense:"",outlined:"","hide-details":"",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=m=>e.search=m),label:"Pesquisar","append-inner-icon":"mdi-magnify",clearable:""},null,8,["modelValue"])]),_:1}),o(s,{class:"text-end",cols:"2"},{default:l(()=>[o(W,{location:"top start",bordered:"",overlap:""},{default:l(()=>[o(j,{class:"elevation-0",onClick:t[1]||(t[1]=m=>e.showFilters=!e.showFilters)},{default:l(()=>[e.showFilters?(v(),A(p,{key:1,left:"",size:"25px"},{default:l(()=>t[9]||(t[9]=[d("mdi-filter-off")])),_:1})):(v(),A(p,{key:0,size:"25px",left:""},{default:l(()=>t[8]||(t[8]=[d("mdi-filter")])),_:1})),t[10]||(t[10]=d(" FILTROS "))]),_:1})]),_:1})]),_:1}),o(s,{class:"button-group mr-4",align:"end"},{default:l(()=>[o(I,{top:""},{activator:l(({on:m,attrs:C})=>[o(j,B({color:"success",class:"elevation-3 compact-btn ml-3","min-width":"25%",onClick:t[2]||(t[2]=H=>e.dialog.create=!0)},C,X(m)),{default:l(()=>[o(p,{small:"",class:"compact-icon",left:""},{default:l(()=>t[11]||(t[11]=[d("mdi-plus")])),_:1}),t[12]||(t[12]=a("div",{class:"d-flex flex-column compact-btn-text",style:{"font-size":"0.6rem"}},[a("span",null,"Novo"),d(),a("span",null,"Projeto")],-1))]),_:2},1040)]),default:l(()=>[t[13]||(t[13]=a("span",null,"Clique para adicionar um projeto",-1))]),_:1})]),_:1})]),_:1})]),"item.edit":l(({item:m})=>[o(I,{location:"top"},{activator:l(({props:C})=>[o(j,B({icon:""},C,{onClick:H=>i.onSelectRow(m,"update"),class:"elevation-0"}),{default:l(()=>[o(p,{color:"green"},{default:l(()=>t[14]||(t[14]=[d("mdi-pencil")])),_:1})]),_:2},1040,["onClick"])]),default:l(()=>[t[15]||(t[15]=a("span",null,"Clique para editar um Projeto",-1))]),_:2},1024)]),"item.delete":l(({item:m})=>[o(I,{location:"top"},{activator:l(({props:C})=>[o(g,B({icon:""},C,{onConfirm:()=>i.onDeleteRow(m),class:"elevation-0"}),{default:l(()=>[o(p,{color:"red"},{default:l(()=>t[16]||(t[16]=[d("mdi-delete")])),_:1})]),_:2},1040,["onConfirm"])]),default:l(()=>[t[17]||(t[17]=a("span",null,"Clique para deletar um Projeto",-1))]),_:2},1024)]),"expanded-row":l(({item:m})=>[a("tr",null,[a("td",Vt,[d(n(console.log(m))+" ",1),o(P,{projetoData:m},null,8,["projetoData"])])])]),_:2},1032,["items","headers","search","expanded"]),o(R,{modelValue:e.dialog.create,"onUpdate:modelValue":t[5]||(t[5]=m=>e.dialog.create=m),width:"70%"},{default:l(()=>[o(q,{class:"card-form align-self-center",width:"100%"},{default:l(()=>[o(M,{class:"sticky-title title-border"},{default:l(()=>[t[19]||(t[19]=d(" Cadastro de Produto ")),o(N),o(j,{icon:"",class:"btn-close elevation-0",onClick:t[4]||(t[4]=m=>e.dialog.create=!e.dialog.create)},{default:l(()=>[o(p,{prepend:""},{default:l(()=>t[18]||(t[18]=[d(" mdi-close ")])),_:1})]),_:1})]),_:1}),o(L,{currentItem:e.newItem,onSubmit:i.createProject,dialogAtivo:e.dialog.create},null,8,["currentItem","onSubmit","dialogAtivo"])]),_:1})]),_:1},8,["modelValue"]),o(R,{modelValue:e.dialog.update,"onUpdate:modelValue":t[7]||(t[7]=m=>e.dialog.update=m)},{default:l(()=>[o(q,{class:"card-form align-self-center",width:"60%"},{default:l(()=>[o(M,{class:"sticky-title title-border"},{default:l(()=>[d(" Editar Produtor: "+n(e.selectedRow.id)+" ",1),o(N),o(j,{icon:"",class:"btn-close elevation-0",onClick:t[6]||(t[6]=m=>e.dialog.update=!e.dialog.update)},{default:l(()=>[o(p,{prepend:""},{default:l(()=>t[20]||(t[20]=[d(" mdi-close ")])),_:1})]),_:1})]),_:1}),o(K,{currentItem:e.selectedRow,onSubmit:i.updateProduct,files:e.files},null,8,["currentItem","onSubmit","files"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}const Et=x(vt,[["render",wt],["__scopeId","data-v-b1040172"]]);export{Et as default};
